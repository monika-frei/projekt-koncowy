{"version":3,"sources":["store/actions/searchActions.js","components/layout/SignedOutLinks.js","components/layout/MobileMenu.js","components/layout/SingnedInLinks.js","store/actions/authActions.js","components/layout/Header.js","components/dashboard/TripsList.js","components/dashboard/Search.js","components/dashboard/HomePage.js","store/actions/tripActions.js","components/trips/ImagesGrid.js","components/trips/Trip.js","components/auth/SignIn.js","components/auth/SignUp.js","components/trips/UploadImages.js","components/trips/FormStepOne.js","components/trips/FormStepTwo.js","components/trips/Summary.js","components/trips/ButtonNext.js","components/trips/ButtonNextPrev.js","components/trips/ButtonAdd.js","components/trips/CreateTrip.js","components/dashboard/TripButtons.js","components/dashboard/UserPanel.js","components/trips/ButtonUpdate.js","components/trips/UpdateTrip.js","App.js","serviceWorker.js","store/reducers/authReducer.js","store/reducers/tripReducer.js","store/reducers/searchReducer.js","store/reducers/formReducers/formStepOneReducer.js","store/reducers/formReducers/formStepTwoReducer.js","store/reducers/formReducers/formStepThreeReducer.js","store/reducers/formReducers/formReducer.js","store/reducers/classInvisibleReducer.js","store/reducers/editTripReducer.js","store/reducers/rootReducer.js","config/fb.config.js","index.js"],"names":["filterTrips","value","type","SignedOutLinks","handleMainContent","e","preventDefault","props","handleCloseMenu","className","this","classActiveNav","onClick","to","style","textDecoration","color","Component","connect","state","dispatch","MobileMenu","handleHamburger","classActive","SignedInLinks","profile","signOut","firstName","console","log","firebase","getState","getFirebase","auth","then","Header","active","setState","links","uid","SingnedInLinks","classInvisible","data-letters","showSearch","searcherClass","TripsList","trips","filter","filteredTrips","element","stops","includes","destination","length","tripsList","map","trip","startDate","split","endDate","sDateYear","parseInt","slice","join","eDateYear","sDateMonth","eDateMonth","sDateDay","eDateDay","startDateArray","Array","endDateArray","duration","moment","diff","key","id","src","imagesUrl","compose","firestoreConnect","collection","firestore","ordered","Search","searchTrip","changeInput","target","trim","toLowerCase","handleButton","onSubmit","search","placeholder","onChange","HomePage","formDestination","formStops","formStartDate","formEndDate","formTransport","transport","formInfo","info","formFiles","files","filesUrl","sendFiles","getFirestore","authorId","forEach","file","storage","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","child","getDownloadURL","url","doc","get","update","deleteTrip","delete","catch","editTrip","ImagesGrid","imagesArray","images","displayImages","image","index","data-src","handleDisplayOriginalImage","invisible","width","ownProps","Trip","imageOpen","imageOpenIndex","previewAction","handleCloseOriginalImage","handlePrevOriginalImage","arrayLength","prevState","handleNextOriginalImage","handleDeleteButton","history","push","handleEditButton","transportArray","galleryInvisible","userButtons","tripAuthId","bgImage","strength","stop","authorFirstName","createdAt","toDate","startOf","fromNow","match","params","data","date","SignIn","email","password","handleChange","handleSubmit","signIn","authError","autoComplete","htmlFor","required","creds","credentials","signInWithEmailAndPassword","SignUp","lastName","signUp","newUser","createUserWithEmailAndPassword","response","user","set","UploadImages","handleUploadImages","URL","createObjectURL","getRootProps","getInputProps","onDrop","maxSize","multiple","FormStepOne","format","focusedInput","checked1","checked2","checked3","checked4","checked5","checked6","checked7","checked8","checked9","handleSaveDestination","location","handleSaveStop","handleStopButton","handleDeleteStop","indexOf","handleSaveStartDate","handleSaveEndDate","handleSaveTransport","checked","newItem","stopsList","min","FormStepTwo","handleSaveInfo","Summary","item","formCreateTrip","stepThree","stepOne","stepTwo","ButtonNext","handleNextButton","ButtonNextPrev","handlePrevButton","ButtonAdd","CreateTrip","step","newTrip","createTrip","formStep","buttons","add","authorLastName","Date","docRef","createTripInfo","TripButtons","UserPanel","edit","tripsFiltered","userTrips","shortInfo","substring","ButtonUpdate","handleUpdate","UpdateTrip","updateTrip","pathname","App","tripId","tripEdit","dataToEdit","exact","path","component","render","Boolean","window","hostname","initState","authReducer","action","message","tripReducer","searchReducer","formStepOneReducer","formStepTwoReducer","formStepThreeReducer","formReducer","combineReducers","classInvisibleReducer","editTripReducer","rootReducer","firestoreReducer","firebaseReducer","EditTripReducer","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","store","createStore","applyMiddleware","thunk","withExtraArgument","logger","reduxFirestore","fbConfig","rrfProps","config","useFirestoreForProfile","userProfile","attachAuthIsReady","createFirestoreInstance","ReactDOM","children","useSelector","isLoaded","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e7e6f78d.chunk.js","sourcesContent":["export const filterTrips = value => ({\r\n    type: 'FILTER_TRIPS',\r\n    value\r\n})\r\n","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { filterTrips } from '../../store/actions/searchActions'\r\n\r\n\r\nclass SignedOutLinks extends Component {\r\n\r\n    handleMainContent = (e) => {\r\n        e.preventDefault();\r\n        this.props.filterTrips(\"\")\r\n        this.props.handleCloseMenu(e)\r\n      }\r\n\r\n    render() {\r\n        return (\r\n            <nav className= {this.props.classActiveNav}>\r\n                <ul>\r\n                    <li onClick={this.handleMainContent}><NavLink to='/home' style= {{textDecoration: 'none', color: '#040505'}}>Home</NavLink></li>\r\n                    <li onClick = {this.props.handleCloseMenu}><NavLink to='/signup' style= {{textDecoration: 'none',color: '#040505'}}>Sign Up</NavLink></li>\r\n                    <li onClick = {this.props.handleCloseMenu}><NavLink to='/signin' style= {{textDecoration: 'none', color: '#040505'}}>Log in</NavLink></li>\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }    \r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        filterTrips: value => dispatch(filterTrips(value))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(SignedOutLinks);","import React, { Component } from 'react';\r\n\r\nclass MobileMenu extends Component {\r\n\r\n   render(){\r\n    return(\r\n        <div className= \"navigation__buttons\">\r\n            <button onClick={this.props.handleHamburger} className = {`hamburger ${this.props.classActive}`}>\r\n            <span  className = \"hamburger__box\">\r\n                <span className = \"hamburger__inner\"></span>\r\n            </span>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n}\r\n\r\nexport default MobileMenu;","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { signOut } from '../../store/actions/authActions'\r\nimport { filterTrips } from '../../store/actions/searchActions'\r\n\r\n\r\nclass SignedInLinks extends Component {\r\n\r\n    handleMainContent = (e) => {\r\n        e.preventDefault();\r\n        this.props.filterTrips(\"\")\r\n        this.props.handleCloseMenu(e)\r\n    }\r\n    \r\n    render(){\r\n        const { profile } = this.props\r\n        return (\r\n            <nav className= {this.props.classActiveNav}>\r\n                <ul>\r\n                    <li onClick={this.handleMainContent}><NavLink to='/home' style= {{textDecoration: 'none', color: '#040505'} }>Home</NavLink></li>\r\n                    <li onClick = {this.props.handleCloseMenu}><NavLink to='/createtrip' style= {{textDecoration: 'none', color: '#040505'}}>Create a new trip</NavLink></li>\r\n                    <li onClick = {this.props.handleCloseMenu}><NavLink to='/userpanel' style= {{textDecoration: 'none', color: '#040505'}}>Saved trips</NavLink></li>\r\n                    <li onClick = {this.props.handleCloseMenu}><a onClick={this.props.signOut}>Log out</a></li>\r\n                    <li className = \"navigation__user--logged\" onClick = {this.props.handleCloseMenu}>{this.props.profile.firstName}</li>\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state)\r\n    return {\r\n        profile: state.firebase.profile\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signOut: () => dispatch(signOut()),\r\n        filterTrips: value => dispatch(filterTrips(value))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignedInLinks);","export const signIn = (credentials) => {\r\n    return (dispatch, getState, {getFirebase}) => {\r\n        const firebase = getFirebase();\r\n\r\n        firebase.auth().signInWithEmailAndPassword(\r\n            credentials.email,\r\n            credentials.password\r\n        ).then(() => {\r\n            dispatch({type:'LOGIN_SUCCESS'})\r\n        }).catch((error) => {\r\n            dispatch({type: 'LOGIN_ERROR',error})\r\n        })\r\n    }\r\n}\r\n\r\nexport const signOut = () => {\r\n    return (dispatch, getState, {getFirebase}) => {\r\n        const firebase = getFirebase();\r\n        firebase.auth().signOut()\r\n        .then(() => {\r\n            dispatch({type: 'SIGNOUT_SUCCESS'})\r\n        })\r\n    }\r\n}\r\n\r\nexport const signUp = (newUser) => {\r\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\r\n        const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n\r\n        firebase.auth().createUserWithEmailAndPassword(\r\n            newUser.email,\r\n            newUser.password\r\n        ). then((response) => {\r\n            return firestore.collection('users').doc(response.user.uid).set({\r\n                firstName: newUser.firstName,\r\n                lastName: newUser.lastName\r\n            })\r\n        }). then(() => {\r\n            dispatch({ type: 'SIGNUP_SUCCESS'})\r\n        }).catch((error) => {\r\n            dispatch({type: 'SIGNUP_ERROR', error})\r\n        })\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SignedOutLinks from './SignedOutLinks';\r\nimport MobileMenu from './MobileMenu';\r\nimport { connect } from 'react-redux'\r\nimport SingnedInLinks from './SingnedInLinks';\r\nimport { filterTrips } from '../../store/actions/searchActions'\r\n\r\n\r\nclass Header extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            active: false,\r\n            classActive: \"\",\r\n            classActiveNav: \"navigation\",\r\n        }\r\n    }\r\n\r\n    handleHamburger = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.active) {\r\n            this.setState({\r\n                active: false,\r\n                classActive: \"\",\r\n                classActiveNav: \"navigation\"\r\n            })\r\n\r\n        } else {\r\n            this.setState({\r\n                active: true,\r\n                classActive: \"hamburger--active\",\r\n                classActiveNav: \"navigation--active\"\r\n            })\r\n        }\r\n    }    \r\n\r\n    handleCloseMenu = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            active: false,\r\n            classActive: \"\",\r\n            classActiveNav: \"navigation\"\r\n        })\r\n    }\r\n\r\n    \r\n    render() {\r\n        const { auth } = this.props\r\n        const links = auth.uid ? <SingnedInLinks classActiveNav = {this.state.classActiveNav} handleMainContent = {this.props.handleMainContent} handleCloseMenu = {this.handleCloseMenu}/> : <SignedOutLinks classActiveNav = {this.state.classActiveNav} handleMainContent = {this.props.handleMainContent} handleCloseMenu = {this.handleCloseMenu}/>\r\n        return (<>\r\n            <div className = {`header--wrapper ${this.props.classInvisible}`}>\r\n                <div className='header'>\r\n                    <div className=\"logo\"><p className= \"link--logo\" to=\"/\" data-letters= \"Adventure\" onClick = {this.props.handleMainContent}><Link to='/home' style= {{textDecoration: 'none', color: 'yellow'}}>Adventure</Link></p></div>\r\n                    <MobileMenu handleHamburger = {this.handleHamburger} classActiveNav = {this.state.classActiveNav} classActive = {this.state.classActive} showSearch = {this.props.showSearch} searcherClass = {this.props.searcherClass} handleCloseMenu = {this.handleCloseMenu}/>\r\n                </div>\r\n                { links }\r\n            </div>\r\n        </>)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state)\r\n    return {\r\n        auth: state.firebase.auth,\r\n        classInvisible: state.classInvisible.classInvisible\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        filterTrips: (value) => dispatch(filterTrips(value))\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nclass TripsList extends Component {\r\n\r\n    render() {\r\n\r\n        let { trips, filter } = this.props;  \r\n        let filteredTrips = [];\r\n        if (filter !== \"\") {\r\n            filteredTrips = trips.filter((element) => {\r\n                if(element.stops.includes(filter)){\r\n                  return element\r\n                } else if(element.destination.includes(filter)){\r\n                  return element\r\n                } else return null;\r\n            })\r\n        }        \r\n        \r\n        if(filteredTrips.length !== 0) {\r\n            trips = filteredTrips;\r\n        }\r\n       \r\n        const tripsList = trips && trips.map(trip => {\r\n            \r\n            const startDate = trip.startDate.split(\"\");\r\n            const endDate = trip.endDate.split(\"\");\r\n\r\n            const sDateYear = parseInt((startDate.slice(0,4).join(\"\")),10)\r\n            const eDateYear = parseInt((endDate.slice(0,4).join(\"\")),10)\r\n\r\n            const sDateMonth = parseInt((startDate.slice(5,7).join(\"\")),10)\r\n            const eDateMonth = parseInt((endDate.slice(5,7).join(\"\")),10)\r\n\r\n            const sDateDay = parseInt((startDate.slice(8,10).join(\"\")),10)\r\n            const eDateDay = parseInt((endDate.slice(8,10).join(\"\")),10)\r\n\r\n            let startDateArray = new Array(sDateYear,sDateMonth,sDateDay);\r\n            let endDateArray = new Array(eDateYear,eDateMonth,eDateDay);\r\n\r\n            const duration = moment(endDateArray).diff((moment(startDateArray)), 'days')\r\n            \r\n            return (\r\n            <div className=\"trip__card\" key={trip.id}>\r\n                <div className=\"trip__card__info\">\r\n                    <h1 className= \"destination\">{trip.destination}</h1>\r\n                    <h1 className= \"duration\">{duration} days</h1>\r\n                </div>\r\n                <div className = \"trip__card__container\">\r\n                    <img src =  {trip.imagesUrl ? trip.imagesUrl[0] : \"\"} className= \"trip__card__images\"></img>\r\n                    <Link to= {'/trip/' + trip.id}>\r\n                    <button className=\"trip__card__button\">More</button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        )})\r\n    return(<div className=\"main__content\">\r\n            {tripsList}\r\n        </div>              \r\n    )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        trips: state.firestore.ordered.trips,\r\n        filter: state.filter\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    firestoreConnect([\r\n        {collection: 'trips'}\r\n    ]),\r\n    connect(mapStateToProps),\r\n)(TripsList);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { filterTrips } from '../../store/actions/searchActions'\r\n\r\n\r\n\r\nclass Search extends Component {\r\n\r\n    state = {\r\n        searchTrip: \"\"\r\n    }\r\n\r\n    changeInput = (e) => {\r\n        e.preventDefault();\r\n        const searchTrip = e.target.value.trim().toLowerCase();\r\n        this.setState({\r\n            searchTrip\r\n        })\r\n    }\r\n\r\n    handleButton = (e) => {\r\n        e.preventDefault();\r\n        this.props.filterTrips(this.state.searchTrip)\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const searcher = \r\n        <form id=\"main__searcher--desktop\" onSubmit={this.props.search}>\r\n            <input type=\"text\" id=\"main__searcher__input\" placeholder=\"e.g. Poland\" value={this.searchTrip} onChange ={this.changeInput}></input>\r\n            <button id= \"main__search\" className=\"search__button\" onClick = {this.handleButton}><i className= \"icon__search\"></i></button>\r\n        </form>;\r\n        return searcher;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        filterTrips: (value) => dispatch(filterTrips(value))\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,\r\n    mapDispatchToProps)(Search);","import React from 'react';\r\nimport TripsList from './TripsList';\r\nimport Search from './Search';\r\nimport { ParallaxProvider } from 'react-scroll-parallax';\r\n\r\n\r\n\r\nfunction HomePage() {\r\n\r\n  return (\r\n      <div className = \"home\">\r\n        <Search />\r\n        <ParallaxProvider>\r\n          <TripsList />\r\n        </ParallaxProvider>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nexport default HomePage\r\n","export const formDestination = (destination) => ({\r\n    type: 'SAVE_DESTINATION',\r\n    destination\r\n})\r\n\r\nexport const formStops = (stops) => ({\r\n    type: 'SAVE_STOPS',\r\n    stops\r\n})\r\n\r\nexport const formStartDate = (startDate) => ({\r\n    type: 'SAVE_START_DATE',\r\n    startDate\r\n})\r\n\r\nexport const formEndDate = (endDate) => ({\r\n    type: 'SAVE_END_DATE',\r\n    endDate\r\n})\r\n\r\nexport const formTransport = (transport) => ({\r\n    type: 'SAVE_TRANSPORT',\r\n    transport\r\n})\r\n\r\nexport const formInfo = (info) => ({\r\n    type: 'SAVE_INFO',\r\n    info\r\n})\r\n\r\nexport const formFiles = (files, filesUrl) => ({\r\n    type: 'SAVE_FILES',\r\n    files,\r\n    filesUrl\r\n})\r\n\r\nconst addTripStarted = () => ({\r\n    type: 'ADD_TRIP_STARTED',\r\n    \r\n\r\n})\r\n\r\nexport const createTripInfo = (trip)  => {\r\n    return(dispatch, getState, { getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        const images = getState().formCreateTrip.stepThree.files;\r\n        const files = [...images];\r\n\r\n        dispatch(addTripStarted());\r\n\r\n        firestore.collection('trips').add({\r\n            ...trip,\r\n            authorFirstName: profile.firstName,\r\n            authorLastName: profile.lastName,\r\n            authorId: authorId,\r\n            createdAt: new Date(),\r\n        })        \r\n        .then((docRef) => {\r\n            const id = docRef.id;\r\n            dispatch(sendFiles(id,files))\r\n        })\r\n        .then(() => dispatch({type: 'ADD_TRIP',trip}))\r\n        .catch((error) => {\r\n            dispatch({type: 'ADD_TRIP_ERROR', error})\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const sendFiles = (id,files) => {\r\n    return(dispatch, getState, { getFirebase, getFirestore}) => {\r\n        const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n        const authorId = getState().firebase.auth.uid;\r\n        let imagesUrl =[];\r\n\r\n        dispatch({type:'SEND_FILES_STARTED'})\r\n\r\n           files.forEach((file) => {\r\n                const uploadTask = firebase.storage().ref(`images/${authorId}/${id}/${file.name}`)\r\n                .put(file);\r\n\r\n                uploadTask.on(\"state_changed\",\r\n                (snapshot) => {\r\n                    Math.round((snapshot.bytesTransferred/snapshot.totalBytes) *100);\r\n                },\r\n                error => {\r\n                },\r\n                () => {\r\n                    firebase.storage().ref(`images/${authorId}/${id}`)\r\n                    .child(file.name)\r\n                    .getDownloadURL()\r\n                    .then(url => {\r\n                        imagesUrl= [...imagesUrl,url]\r\n                    })\r\n                    .then(() => {\r\n                        firestore.collection('trips').doc(id)\r\n                        .get()\r\n                        .then(() => {\r\n                        firestore.collection('trips').doc(id).update({imagesUrl})\r\n                        })\r\n                    })\r\n                \r\n                })\r\n            }) \r\n}}\r\n\r\nexport const classInvisible = (invisible) => ({\r\n    type: 'ADD_CLASS_INVISIBLE',\r\n    invisible\r\n})\r\n\r\nexport const deleteTrip = (id) => {\r\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\r\n        const firestore = getFirestore();\r\n        const firebase = getFirebase();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        firestore.collection('trips').doc(id).delete()\r\n        .then(() => {\r\n            firebase.storage().ref(`images/${authorId}/${id}`).delete()\r\n        })\r\n        .then(() => dispatch({type: 'DELETE_TRIP'}))\r\n        .catch((error) => {\r\n            dispatch({type: 'DELETE_TRIP_ERROR', error})\r\n        }) \r\n    }\r\n}\r\n\r\nexport const editTrip = (id) => ({\r\n    type: 'EDIT_USER_TRIP',\r\n    id\r\n})\r\n\r\nexport const updateTrip = (trip,id)  => {\r\n    return(dispatch, getState, { getFirestore, getFirebase }) => {\r\n        const firestore = getFirestore();\r\n        const firebase = getFirebase();\r\n        const authorId = getState().firebase.auth.uid;\r\n        const images = getState().formCreateTrip.stepThree.files;\r\n        const files = [...images];\r\n\r\n        \r\n\r\n        firestore.collection('trips').doc(id).update({\r\n            ...trip,\r\n            createdAt: new Date(),\r\n        })\r\n        .then(() => {\r\n            dispatch(sendFiles(id,files))\r\n        })\r\n        .then(() => dispatch({type: 'UPDATE_TRIP',trip}))\r\n        .catch((error) => {\r\n            dispatch({type: 'UPDATE_TRIP_ERROR', error})\r\n        })    \r\n      \r\n    }\r\n}\r\n\r\n","import React, { Component, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nclass ImagesGrid extends Component {\r\n\r\n    state = {\r\n        imagesArray: this.props.images ? this.props.images : []\r\n    }\r\n\r\n    render() {\r\n\r\n        const images = this.state.imagesArray;\r\n        const displayImages = images.map((image,index) => {\r\n            return <div key = { index } data-src = {image} className ={`gallery__item gallery__item--${index}`} onClick = {(e) => this.props.handleDisplayOriginalImage(e,index)}>\r\n                        <img src = {image}  className = \"gallery__img\"></img>\r\n                </div>\r\n        })\r\n        return (<div className = {`gallery ${this.props.invisible}`} style ={{width: '100%'}}>\r\n                { displayImages }\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const classInvisible = state.classInvisible.classInvisible;\r\n    return {\r\n        classInvisible\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ImagesGrid)\r\n\r\n","import React, { Component, useRef } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport moment from 'moment'\r\nimport { filterTrips } from '../../store/actions/searchActions'\r\nimport { classInvisible } from '../../store/actions/tripActions'\r\nimport { deleteTrip, editTrip, formFiles,formDestination, formStops, formStartDate, formEndDate, formTransport, formInfo } from '../../store/actions/tripActions'\r\nimport ImagesGrid from './ImagesGrid'\r\nimport { Parallax } from 'react-parallax';\r\n\r\nclass Trip extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            imageOpenIndex: null,\r\n            imageOpen: \"\",\r\n            previewAction: \"image__preview--close\",\r\n            galleryInvisible: \"\"\r\n        }\r\n    }\r\n\r\n    handleMainContent = () => {\r\n        const value = \"\"\r\n        this.props.filterTrips(value)\r\n    }\r\n\r\n    handleDisplayOriginalImage = (e,index) => {\r\n        const imageOpen = e.target.src\r\n        this.setState({\r\n            imageOpen,\r\n            imageOpenIndex: index,\r\n            previewAction: \"image-preview--open\",\r\n            invisible: \"invisible\"\r\n        })      \r\n        this.props.classInvisible(\"invisible\")\r\n    }\r\n\r\n\r\n    handleCloseOriginalImage = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            imageOpen: \"\",\r\n            previewAction: \"image__preview--close\",\r\n            invisible: \"\"\r\n        })\r\n        this.props.classInvisible(\"\")\r\n    }\r\n\r\n    handlePrevOriginalImage = (e) => {\r\n        e.preventDefault();\r\n        const imagesArray = this.props.trip.imagesUrl\r\n        const arrayLength = imagesArray.length;\r\n        this.setState(prevState => ({\r\n            imageOpenIndex: prevState.imageOpenIndex > 0 ? prevState.imageOpenIndex -1 : arrayLength -1 \r\n        }))\r\n    }\r\n\r\n    handleNextOriginalImage = (e) => {\r\n        e.preventDefault();\r\n        const imagesArray = this.props.trip.imagesUrl\r\n        const arrayLength = imagesArray.length;\r\n        this.setState(prevState => ({\r\n            imageOpenIndex: prevState.imageOpenIndex < arrayLength -1 ? prevState.imageOpenIndex +1 : 0\r\n        }))\r\n    }\r\n\r\n    handleDeleteButton = (trip) => { \r\n        const id = trip.id;   \r\n         this.props.deleteTrip(id)\r\n         this.props.history.push('/home')\r\n    }\r\n    handleEditButton = (trip) => {\r\n        const id = trip.id;   \r\n        const destination = trip.destination;\r\n        const stops = trip.stops;\r\n        const startDate = trip.startDate;\r\n        const endDate = trip.endDate;\r\n        const transportArray = trip.transport;\r\n        const files = [];\r\n        const filesUrl = trip.imagesUrl;\r\n        const value = trip.info;\r\n\r\n        this.props.editTrip(id);\r\n        this.props.formFiles(files,filesUrl);\r\n        this.props.formDestination(destination);\r\n        this.props.formStops(stops);\r\n        this.props.formStartDate(startDate);\r\n        this.props.formEndDate(endDate);\r\n        this.props.formTransport(transportArray);\r\n        this.props.formInfo(value)\r\n        this.props.history.push('/updatetrip')\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { trip } = this.props;\r\n        let userButtons;\r\n        \r\n\r\n        if(trip) { \r\n            const auth = this.props.auth.uid;\r\n            const tripAuthId = trip.authorId;\r\n            console.log(auth, tripAuthId)\r\n            if(auth == tripAuthId) {\r\n                userButtons = <div className = \"user__buttons\">\r\n                <button className=\"trip__button\" onClick={() => this.handleDeleteButton(trip)}>Delete</button>\r\n                <button className=\"trip__button\" onClick={() => this.handleEditButton(trip)}>Edit</button>\r\n            </div>\r\n            } else {userButtons = null}\r\n\r\n            const imagesUrl = trip.imagesUrl;\r\n\r\n            return (<div className=\"wrapper\">\r\n                <div className = {this.state.classInvisible}>\r\n                    <Parallax bgImage = {imagesUrl[0]} strength = {800}>\r\n                            <div></div>\r\n                    </Parallax>\r\n                </div>\r\n                <div className = {`trip__wrapper ${this.state.invisible}`}>\r\n                    <article>\r\n                            <div className = \"trip__container\">\r\n                                { userButtons }\r\n                                <h1 className = \"trip__destination\">{trip.destination}</h1>\r\n                                <h2 className= \"trip__duration\">{trip.startDate}</h2>\r\n                                <h2 className= \"trip__duration\">{trip.endDate}</h2>\r\n                                <section className = \"trip__basic__info--wrapper\">\r\n                                    <div className = \"trip__basic__info\">\r\n                                        <ul className = \"trip__basic__info__list\">\r\n                                            {trip.stops.map((stop) => {\r\n                                                return <li>{stop}</li>\r\n                                            })}\r\n                                        </ul>\r\n                                        <ul className = \"trip__basic__info__transport\">\r\n                                        {trip.transport.map((element) => {\r\n                                            return <li className = {`transport__icon ${element} `}></li>\r\n                                        })}\r\n                                        </ul>\r\n                                    </div>\r\n                                </section>\r\n                                <section className= \"trip__description\">{trip.info}</section>\r\n                                <div className = \"trip__created\">\r\n                                    <span className = \"trip__author\">by {trip.authorFirstName}</span>\r\n                                    <p>{moment(trip.createdAt.toDate()).startOf('day').fromNow()}</p>\r\n                                </div>\r\n                            </div>\r\n                        </article>\r\n                        <div className = \"trip__container\">\r\n                            <ImagesGrid  images = {imagesUrl} handleDisplayOriginalImage = {this.handleDisplayOriginalImage} />\r\n                        </div>\r\n                            \r\n                    </div>\r\n                    <div className = {`image__preview ${this.state.previewAction}`}>\r\n                        <img src = {imagesUrl[this.state.imageOpenIndex]}></img>\r\n                        <div className = \"slider__buttons\">\r\n                            <button className=\"btn btn--prev\" onClick = {this.handlePrevOriginalImage}></button>\r\n                            <button className=\"btn btn--close\" onClick = {this.handleCloseOriginalImage}></button>\r\n                            <button className=\"btn btn--next\" onClick = {this.handleNextOriginalImage}></button>\r\n                        </div>\r\n                    </div>\r\n                </div>)\r\n            } else {\r\n            return (<p>Loading trip...</p>)}\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const  id = ownProps.match.params.id;\r\n    const  trips  = state.firestore.data.trips;\r\n    const trip = trips ? trips[id] : null;\r\n    const classInvisible = state.classInvisible.classInvisible;\r\n    return {\r\n        trip,\r\n        id,\r\n        classInvisible,\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        filterTrips: value => dispatch(filterTrips(value)),\r\n        classInvisible: value => dispatch(classInvisible(value)),\r\n        deleteTrip: (id) => dispatch(deleteTrip(id)),\r\n        editTrip: (id) => dispatch(editTrip(id)),\r\n        formFiles: (files, filesUrl) => dispatch(formFiles(files, filesUrl)),\r\n        formDestination: destination => dispatch(formDestination(destination)),\r\n        formStops: stops => dispatch(formStops(stops)),\r\n        formStartDate: (date) => dispatch(formStartDate(date)),\r\n        formEndDate: (date) => dispatch(formEndDate(date)),\r\n        formTransport: transport => dispatch(formTransport(transport)),\r\n        formInfo: info => dispatch(formInfo(info))\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    firestoreConnect([\r\n        {collection: 'trips'}\r\n    ])\r\n)(Trip)","import React, { Component} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { signIn } from '../../store/actions/authActions'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass SignIn extends Component {\r\n\r\n    state = {\r\n        email: '',\r\n        password: ''\r\n\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id] : e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.signIn(this.state)\r\n    }\r\n\r\n    render() {\r\n        const { authError, auth } = this.props\r\n        if( auth.uid ) return <Redirect to ='/home'></Redirect>\r\n        return(\r\n        <div className = \"form__container\">\r\n            <form onSubmit={this.handleSubmit} autoComplete =\"off\">\r\n                <h1>Log In</h1>\r\n                <div className = \"input__field\">\r\n                   <label htmlFor= \"email\">E-mail</label>\r\n                   <input type=\"email\" id=\"email\" onChange={this.handleChange} required/> \r\n                </div>\r\n                <div className = \"input__field\">\r\n                   <label htmlFor= \"password\">Password</label>\r\n                   <input type=\"password\" id=\"password\" onChange={this.handleChange} required/> \r\n                </div>\r\n                <div className = \"input__field--login\">\r\n                   <button className = \"btn\">Log In</button>\r\n                   <div className=\"auth__error\">\r\n                       { authError ? <p>{authError}</p> : null}\r\n                   </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        authError: state.auth.authError,\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signIn: (creds) => dispatch(signIn(creds))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(SignIn);","import React, { Component} from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { signUp } from '../../store/actions/authActions'\r\n\r\nclass SignUp extends Component {\r\n\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        firstName: '',\r\n        lastName: ''\r\n\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id] : e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.signUp(this.state)\r\n    }\r\n\r\n    render() {\r\n        const { auth, authError } = this.props\r\n        if( auth.uid ) return <Redirect to ='/home'></Redirect>\r\n        return(\r\n        <div className = \"form__container\">\r\n            <form onSubmit={this.handleSubmit} autoComplete=\"off\">\r\n                <h1>Sign In</h1>\r\n                <div className = \"input__field\">\r\n                   <label htmlFor= \"firstName\">* First Name</label>\r\n                   <input type=\"text\" id=\"firstName\" onChange={this.handleChange} required/> \r\n                </div>\r\n                <div className = \"input__field\">\r\n                   <label htmlFor= \"lastName\">* Last Name</label>\r\n                   <input type=\"text\" id=\"lastName\" onChange={this.handleChange} required/> \r\n                </div>\r\n                <div className = \"input__field\">\r\n                   <label htmlFor= \"email\">* Email</label>\r\n                   <input type=\"email\" id=\"email\" onChange={this.handleChange} required/> \r\n                </div>\r\n                <div className = \"input__field\">\r\n                   <label htmlFor= \"password\">* Password</label>\r\n                   <input type=\"password\" id=\"password\" onChange={this.handleChange} required/> \r\n                </div>\r\n                <div className = \"input__field--login\">\r\n                    <button className = \"btn\">Sign up</button>\r\n                    <div>\r\n                        { authError ? <p> { authError }</p> : null}\r\n                    </div>\r\n                </div>\r\n                <span>(*)required</span>\r\n            </form>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        authError: state.auth.authError\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    signUp: (newUser) => dispatch(signUp(newUser))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(SignUp)","import React, { Component } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\nimport { connect } from 'react-redux'\r\nimport { formFiles } from '../../store/actions/tripActions'\r\n\r\nclass UploadImages extends Component {\r\n    state = {\r\n        files: this.props.files ? [...this.props.files] : [],\r\n        filesUrl: this.props.filesUrl ? [...this.props.filesUrl] : []\r\n    }\r\n\r\n    handleUploadImages = (files) => {\r\n        const images = [...files];\r\n        const filesUrl = images.map(file => {\r\n            return URL.createObjectURL(file)\r\n        })\r\n        this.setState({filesUrl,files})\r\n        this.props.formFiles(files,filesUrl);\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.filesUrl)\r\n        const files = this.state.filesUrl;\r\n        const images = files.map((file, index) => {\r\n                return (\r\n                    <li key = {index}>\r\n                        <img src= {file}></img>\r\n                    </li>\r\n                )\r\n            })\r\n        \r\n        \r\n        return(\r\n        <div className = \"adding_images--wrapper\">\r\n            <Dropzone>\r\n                {({getRootProps, getInputProps}) => (\r\n                    <section>\r\n                        <div {...getRootProps()}>\r\n                            <input {...getInputProps()}\r\n                                onDrop = {files => this.handleUploadImages(files)}\r\n                                onChange = {e => this.handleUploadImages(e.target.files) }\r\n                                maxSize = {20000000}\r\n                                multiple = {true} />\r\n                            <div className = \"custom__file\">\r\n                                <label htmlFor = \"custom__file\">Show your pictures!</label>\r\n                                <input id=\"custom__file\"></input>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                )}\r\n            </Dropzone>\r\n            <ul className = \"images__upload__preview\">\r\n                { images }\r\n            </ul>\r\n        </div>\r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        formFiles: (files, filesUrl) => dispatch(formFiles(files, filesUrl))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(UploadImages)","import React, { Component} from 'react';\r\nimport moment, { isMoment } from 'moment';\r\nimport { connect } from 'react-redux';\r\nimport 'react-dates/initialize';\r\nimport { formDestination, formStops, formStartDate, formEndDate, formTransport, editTrip } from '../../store/actions/tripActions'\r\n\r\nclass FormStepOne extends  Component {\r\n\r\n    state = {\r\n        destination: this.props.destination ? this.props.destination : \"\",\r\n        stop: \"\",\r\n        stops: this.props.stops ? [...this.props.stops] : [],\r\n        startDate: this.props.startDate ? this.props.startDate : moment().format('YYYY-MM-DD'),\r\n        endDate: this.props.endDate ? this.props.endDate : moment().format('YYYY-MM-DD'),\r\n        focusedInput: null,\r\n        transportArray: this.props.transport ? [...this.props.transport] : [],\r\n        checked1: ( this.props.transport && this.props.transport.includes('bus')) ? true : false,\r\n        checked2: ( this.props.transport && this.props.transport.includes('car')) ? true : false,\r\n        checked3: ( this.props.transport && this.props.transport.includes('airplane')) ? true : false,\r\n        checked4: ( this.props.transport && this.props.transport.includes('train')) ? true : false,\r\n        checked5: ( this.props.transport && this.props.transport.includes('ship')) ? true : false,\r\n        checked6: ( this.props.transport && this.props.transport.includes('hitchhiking')) ? true : false,\r\n        checked7: ( this.props.transport && this.props.transport.includes('bike')) ? true : false,\r\n        checked8: ( this.props.transport && this.props.transport.includes('onfoot')) ? true : false,\r\n        checked9: ( this.props.transport && this.props.transport.includes('other')) ? true : false\r\n    }\r\n\r\n    handleSaveDestination =(e) => {\r\n        const destination = e.target.value.toLowerCase();\r\n        this.setState({destination})\r\n        this.props.formDestination(destination)\r\n        const location = this.props.location\r\n        if (location == \"/updatetrip\") {\r\n            this.setState({destination})\r\n        }\r\n    }\r\n\r\n    handleSaveStop = (e) => {\r\n        const stop = e.target.value.toLowerCase();\r\n        this.setState({\r\n            stop\r\n        })\r\n    }\r\n\r\n    handleStopButton = (e) => {\r\n        e.preventDefault();\r\n        const stops = [...this.state.stops, this.state.stop]\r\n        this.setState({\r\n            stops: [...this.state.stops,this.state.stop],\r\n            stop: ''\r\n        })\r\n        this.props.formStops(stops)\r\n    }\r\n\r\n    handleDeleteStop = (e,index) => {\r\n        e.preventDefault();\r\n        const stops = this.state.stops.filter((stop) => {\r\n            let i = this.state.stops.indexOf(stop);\r\n            return i !== index\r\n        })\r\n        this.setState({\r\n            stops\r\n        })\r\n        this.props.formStops(stops)\r\n    }\r\n\r\n    handleSaveStartDate = (e) => {\r\n        const startDate = moment(e.target.value).format('YYYY-MM-DD');\r\n        this.setState({ startDate })\r\n\r\n        this.props.formStartDate(startDate)\r\n   }\r\n\r\n   handleSaveEndDate = (e) => {\r\n    const endDate = moment(e.target.value).format('YYYY-MM-DD');\r\n    this.setState({ endDate })\r\n\r\n    this.props.formEndDate(endDate)\r\n}\r\n\r\n    handleSaveTransport = (e) => {\r\n        const target = e.target;\r\n        const checked = target.checked;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let transportArray = [...this.state.transportArray];\r\n        if(checked === true && transportArray.indexOf(value) === -1) {\r\n            const newItem = value; \r\n            transportArray = [...transportArray, newItem]\r\n            this.setState({\r\n                transportArray,\r\n                [`checked${name}`]: true\r\n                \r\n            })\r\n        } else if (checked === false && transportArray.indexOf(value) !== -1) {\r\n            transportArray = transportArray.filter(element => element !== value)\r\n            this.setState({\r\n                transportArray,\r\n                [`checked${name}`]: false              \r\n            })\r\n        } else {\r\n            this.setState({\r\n                [`checked${name}`]: false              \r\n            })\r\n        }\r\n        this.props.formTransport(transportArray);        \r\n    }\r\n\r\n    \r\n    render(){\r\n        const stopsList = this.state.stops.map( stop => {\r\n            let index = this.state.stops.indexOf(stop);\r\n                return(\r\n                    <li key={index}>\r\n                        <p>{stop}</p>\r\n                        <button className=\"btn--delete\" onClick={(e) => this.handleDeleteStop(e,index)}></button>\r\n                    </li>\r\n                )\r\n            })\r\n\r\n        return (\r\n            <>\r\n                <div className = \"form__input__wrapper\">\r\n                    <div className = \"input__field\">\r\n                        <label htmlFor= \"destination\">Where have you been?</label>\r\n                        <input type=\"text\" id=\"destination\" onChange={this.handleSaveDestination} value = {this.state.destination} autoComplete= \"off\"/> \r\n                    </div>\r\n                    <div className = \"input__field\">\r\n                        <label htmlFor= \"stop\">Add visited places:</label>\r\n                        <input type=\"text\" id=\"stop\" value={this.state.stop} onChange={this.handleSaveStop}/> \r\n                        <button className=\"btn\" onClick={this.handleStopButton}>Add</button>\r\n                        <ul className = \"stops__list\">\r\n                            { stopsList }\r\n                        </ul>                    \r\n                    </div>\r\n                </div>\r\n                <div className =\"form__input__wrapper\">\r\n                    <div className = \"input__field date__picker\">\r\n                        <label htmlFor = \"startDate\">Start date:</label>\r\n                        <input id = \"startDate\" type = \"date\" value = {this.state.startDate} onChange = {this.handleSaveStartDate}></input>\r\n                        <label htmlFor = \"endDate\">End date:</label>\r\n                        <input id = \"endDate\" type = \"date\" min = {this.state.startDate} value = {this.state.endDate} onChange = {this.handleSaveEndDate}></input>\r\n                    </div>\r\n                </div>\r\n                <div className = \"transport\">\r\n                    <p>Choose your transport:</p>\r\n                        <input type=\"checkbox\" id = \"bus\" value = \"bus\" name= \"1\" checked = {this.state.checked1} onChange={this.handleSaveTransport}></input>\r\n                        <label htmlFor=\"bus\">Bus</label>\r\n                        <input type=\"checkbox\" id = \"car\" value = \"car\" name= \"2\" checked = {this.state.checked2} onChange={this.handleSaveTransport}></input>\r\n                        <label htmlFor=\"car\">Car</label>\r\n                        <input type=\"checkbox\" id = \"airplane\" value = \"airplane\" name= \"3\" checked = {this.state.checked3} onChange={this.handleSaveTransport}></input>\r\n                        <label htmlFor=\"airplane\">Airplane</label>\r\n                        <input type=\"checkbox\" id = \"train\" value = \"train\" name= \"4\" checked = {this.state.checked4} onChange={this.handleSaveTransport}></input>\r\n                        <label htmlFor=\"train\">Train</label>\r\n                        <input type=\"checkbox\" id = \"ship\" value = \"ship\" name= \"5\" checked = {this.state.checked5} onChange={this.handleSaveTransport}></input>\r\n                        <label htmlFor=\"ship\">Ship</label>\r\n                        <input type=\"checkbox\" id = \"hitchhiking\" value = \"hitchhiking\" name= \"6\" checked = {this.state.checked6} onChange={this.handleSaveTransport}></input>\r\n                        <label htmlFor=\"hitchhiking\">Hitchhiking</label>\r\n                        <input type=\"checkbox\" id = \"bike\" value = \"bike\" name= \"7\" checked = {this.state.checked7} onChange={this.handleSaveTransport}></input>\r\n                        <label htmlFor=\"bike\">Bike</label>\r\n                        <input type=\"checkbox\" id = \"onfoot\" value = \"onfoot\" name= \"8\" checked = {this.state.checked8} onChange={this.handleSaveTransport}></input>\r\n                        <label htmlFor=\"onfoot\">On foot</label>\r\n                        <input type=\"checkbox\" id = \"other\" value = \"other\" name= \"9\" checked = {this.state.checked9} onChange={this.handleSaveTransport}></input>\r\n                        <label htmlFor=\"other\">Other</label>\r\n                </div> \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        state\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return{\r\n        formDestination: destination => dispatch(formDestination(destination)),\r\n        formStops: stops => dispatch(formStops(stops)),\r\n        formStartDate: (date) => dispatch(formStartDate(date)),\r\n        formEndDate: (date) => dispatch(formEndDate(date)),\r\n        formTransport: transport => dispatch(formTransport(transport)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormStepOne)","import React, { Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { formInfo } from './../../store/actions/tripActions'\r\n\r\nclass FormStepTwo extends Component {\r\n\r\n    state = {\r\n        info: this.props.info ? this.props.info : \"\"\r\n    }\r\n\r\n\r\n    handleSaveInfo = (e) => {\r\n        let value = e.target.value.toLowerCase();\r\n        this.setState({info: value})\r\n        this.props.formInfo(value)\r\n    }\r\n    render(){\r\n        return(\r\n            <div className = \"input__field form__step__two\">\r\n                   <label htmlFor= \"info\">Tell more!</label>\r\n                   <textarea type=\"text\" id=\"info\" value = {this.state.info} onChange={this.handleSaveInfo} /> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        formInfo: info => dispatch(formInfo(info))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormStepTwo)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport moment from 'moment';\r\n\r\nclass Summary extends Component {\r\n    state = {\r\n        destination: this.props.destination ? this.props.destination : \"\",\r\n        stop: \"\",\r\n        stops: this.props.stops ? [...this.props.stops] : [],\r\n        startDate: this.props.startDate ? this.props.startDate : moment().format('YYYY-MM-DD'),\r\n        endDate: this.props.endDate ? this.props.endDate : moment().format('YYYY-MM-DD'),\r\n        focusedInput: null,\r\n        transportArray: this.props.transport ? [...this.props.transport] : [],\r\n        checked1: ( this.props.transport && this.props.transport.includes('bus')) ? true : false,\r\n        checked2: ( this.props.transport && this.props.transport.includes('car')) ? true : false,\r\n        checked3: ( this.props.transport && this.props.transport.includes('airplane')) ? true : false,\r\n        checked4: ( this.props.transport && this.props.transport.includes('train')) ? true : false,\r\n        checked5: ( this.props.transport && this.props.transport.includes('ship')) ? true : false,\r\n        checked6: ( this.props.transport && this.props.transport.includes('hitchhiking')) ? true : false,\r\n        checked7: ( this.props.transport && this.props.transport.includes('bike')) ? true : false,\r\n        checked8: ( this.props.transport && this.props.transport.includes('onfoot')) ? true : false,\r\n        checked9: ( this.props.transport && this.props.transport.includes('other')) ? true : false,\r\n        info: this.props.info ? this.props.info : \"\",\r\n        filesUrl: this.props.filesUrl ? [...this.props.filesUrl] : []\r\n\r\n    }\r\n    render() {\r\n        let destination = this.props.destination ? this.props.destination : <p>No destination saved!</p>;\r\n        let startDate = this.props.startDate ? this.props.startDate : <p>No start date saved!</p>;\r\n        let endDate = this.props.endDate ? this.props.endDate : <p>No end date saved!</p>;\r\n        let info = this.props.info ? this.props.info : <p>No description added!</p>;\r\n        let stops;\r\n        let transport;\r\n        if (this.props.stops) {\r\n            stops = this.props.stops.map((stop,index) => {\r\n                return (\r\n                    <li key = {index}>{stop}</li>\r\n                )\r\n            })\r\n        } else {\r\n            stops =  <p>No stops added!</p> \r\n        }\r\n        if(this.props.transport) {\r\n            transport = this.props.transport.map((item,index) => {\r\n                return (\r\n                    <li key = {index}>{item}</li>\r\n                )\r\n            })\r\n        } else {\r\n            transport = <p>No transport chosen!</p>\r\n        }\r\n        const files = this.props.filesUrl ? this.props.filesUrl : [];\r\n        const images = files.map((file, index) => {\r\n            return (\r\n                <li key = {index}>\r\n                    <img src= {file}></img>\r\n                </li>\r\n            )\r\n        })\r\n        \r\n        return (\r\n            <div className = \"summary\">\r\n                <h2>{destination}</h2>\r\n                <div className = \"summary__list\">\r\n                    <ul>\r\n                        { stops }\r\n                    </ul>\r\n                </div>\r\n                <div className = \"summary__list\">\r\n                    <p>{ startDate }</p>\r\n                    <p>{ endDate }</p>\r\n                    <ul className = \"summary__list\">{ transport }</ul>\r\n                </div>\r\n                <div className = \"summary__info\">\r\n                    { info }\r\n                </div>\r\n                <ul className= \"images__upload__preview \">\r\n                    { images }\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        id: state.editTrip.id,\r\n        files: state.formCreateTrip.stepThree.files,\r\n        filesUrl: state.formCreateTrip.stepThree.filesUrl,\r\n        destination: state.formCreateTrip.stepOne.destination,\r\n        stops: state.formCreateTrip.stepOne.stops,\r\n        startDate: state.formCreateTrip.stepOne.startDate,\r\n        endDate: state.formCreateTrip.stepOne.endDate,\r\n        transport: state.formCreateTrip.stepOne.transport,\r\n        info: state.formCreateTrip.stepTwo.info\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(Summary)","import React from 'react';\r\nimport { parseWithOptions } from 'date-fns/fp';\r\n\r\nfunction ButtonNext(props) {\r\n    return (\r\n        <div className = \"input__field btn--action\">\r\n            <button className = \"btn\" onClick = {props.handleNextButton}>Next</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ButtonNext","import React from 'react';\r\n\r\nfunction ButtonNextPrev(props) {\r\n    return (\r\n        <div className = \"input__field btn--action\">\r\n            <button className = \"btn\" onClick = {props.handlePrevButton}>Prev</button>\r\n            <button className = \"btn\" onClick = {props.handleNextButton}>Next</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ButtonNextPrev","import React from 'react';\r\n\r\nfunction ButtonAdd(props) {\r\n    return (\r\n        <div className = \"input__field btn--action\">\r\n            <button className = \"btn\" onClick = {props.handlePrevButton}>Prev</button>\r\n            <button className = \"btn\" onClick = {props.handleSubmit}>Add</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ButtonAdd","import React, { Component} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { createTripInfo, formFiles,formDestination, formStops, formStartDate, formEndDate, formTransport, formInfo } from '../../store/actions/tripActions'\r\nimport { Redirect } from 'react-router-dom'\r\nimport UploadImages from './UploadImages';\r\nimport FormStepOne from './FormStepOne';\r\nimport FormStepTwo from './FormStepTwo';\r\nimport Summary from './Summary';\r\nimport ButtonNext from  './ButtonNext';\r\nimport ButtonNextPrev from './ButtonNextPrev';\r\nimport ButtonAdd from './ButtonAdd';\r\n\r\nclass CreateTrip extends Component {\r\n\r\n    state = {\r\n        step: 1\r\n    }\r\n\r\n    handleNextButton = (e) => {\r\n        e.preventDefault()\r\n        this.setState({\r\n            step: this.state.step + 1\r\n        })\r\n    }\r\n    handlePrevButton = (e) => {\r\n        e.preventDefault()\r\n        this.setState({\r\n            step: this.state.step - 1\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const newTrip = {\r\n            destination: this.props.destination,\r\n            stops: this.props.stops,\r\n            startDate: this.props.startDate,\r\n            endDate: this.props.endDate,\r\n            transport: this.props.transport,\r\n            info: this.props.info,\r\n        }\r\n\r\n        const files = this.props.files;\r\n        if(files) {\r\n            this.props.createTrip(newTrip)\r\n            this.props.history.push('/home')\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const destination = \"\";\r\n        const stops = [];\r\n        const startDate = \"\";\r\n        const endDate = \"\";\r\n        const transportArray = [];\r\n        const files = [];\r\n        const filesUrl = [];\r\n        const value = \"\";\r\n\r\n\r\n\r\n        this.props.formFiles(files,filesUrl);\r\n        this.props.formDestination(destination);\r\n        this.props.formStops(stops);\r\n        this.props.formStartDate(startDate);\r\n        this.props.formEndDate(endDate);\r\n        this.props.formTransport(transportArray);\r\n        this.props.formInfo(value)\r\n\r\n        \r\n    }\r\n\r\n    render() {\r\n\r\n        const { auth } = this.props;\r\n        if (!auth.uid) return <Redirect to='/signin'></Redirect>\r\n\r\n        let formStep;\r\n        let buttons;\r\n        if(this.state.step == 1) {\r\n            formStep = <FormStepOne destination = {this.props.destination} startDate = {this.props.startDate} endDate = {this.props.endDate} stops = {this.props.stops} transport = {this.props.transport} />\r\n            buttons = <ButtonNext handleNextButton = {this.handleNextButton} />\r\n        } else if(this.state.step == 2) {\r\n            formStep = <FormStepTwo info = {this.props.info} />\r\n            buttons = <ButtonNextPrev handleNextButton = {this.handleNextButton} handlePrevButton = {this.handlePrevButton} />\r\n        } else if(this.state.step == 3) {\r\n            formStep = <UploadImages filesUrl = {this.props.filesUrl} files = {this.props.files} />\r\n            buttons = <ButtonNextPrev handleNextButton = {this.handleNextButton} handlePrevButton = {this.handlePrevButton} />\r\n        } else if(this.state.step == 4) {\r\n            formStep = <Summary destination = {this.props.destination} startDate = {this.props.startDate} endDate = {this.props.endDate} stops = {this.props.stops} transport = {this.props.transport} info = {this.props.info} imagesUrl = {this.props.imagesUrl}  />\r\n            buttons = <ButtonAdd handlePrevButton = {this.handlePrevButton} handleSubmit = {this.handleSubmit}/>\r\n        }\r\n        \r\n\r\n        return(\r\n            \r\n        <div className = \"form__container form__container--createtrip\">\r\n            <form onSubmit = {this.handleSubmit}>\r\n                <h1>Save Your Trip!</h1>\r\n                { formStep }\r\n                { buttons }\r\n            </form>\r\n        </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        files: state.formCreateTrip.stepThree.files,\r\n        filesUrl: state.formCreateTrip.stepThree.filesUrl,\r\n        destination: state.formCreateTrip.stepOne.destination,\r\n        stops: state.formCreateTrip.stepOne.stops,\r\n        startDate: state.formCreateTrip.stepOne.startDate,\r\n        endDate: state.formCreateTrip.stepOne.endDate,\r\n        transport: state.formCreateTrip.stepOne.transport,\r\n        info: state.formCreateTrip.stepTwo.info\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        createTrip: (trip) => dispatch(createTripInfo(trip)),\r\n        formFiles: (files, filesUrl) => dispatch(formFiles(files, filesUrl)),\r\n        formDestination: destination => dispatch(formDestination(destination)),\r\n        formStops: stops => dispatch(formStops(stops)),\r\n        formStartDate: (date) => dispatch(formStartDate(date)),\r\n        formEndDate: (date) => dispatch(formEndDate(date)),\r\n        formTransport: transport => dispatch(formTransport(transport)),\r\n        formInfo: info => dispatch(formInfo(info))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CreateTrip)","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction TripButtons(props) {\r\n\r\n    const trip = props.trip;\r\n    \r\n    return (\r\n        <div className = \"trip__buttons\">\r\n            <button className=\"trip__button\" onClick={() => props.handleDeleteButton(trip)}>Delete</button>\r\n            <button className=\"trip__button\" onClick={() => props.handleEditButton(trip)}>Edit</button>\r\n            <Link to= {'/trip/' + trip.id}>\r\n                <button className=\"trip__button\">More</button>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TripButtons","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect, Link } from 'react-router-dom'\r\nimport { deleteTrip, editTrip, formFiles,formDestination, formStops, formStartDate, formEndDate, formTransport, formInfo } from '../../store/actions/tripActions'\r\nimport TripButtons from './TripButtons'\r\n\r\n\r\n\r\nclass UserPanel extends Component {\r\n\r\n    state = {\r\n        edit: false\r\n    }\r\n\r\n    handleDeleteButton = (trip) => { \r\n        const id = trip.id;   \r\n         this.props.deleteTrip(id)\r\n         this.props.history.push('/home')\r\n    }\r\n    handleEditButton = (trip) => {\r\n        const id = trip.id;   \r\n        const destination = trip.destination;\r\n        const stops = trip.stops;\r\n        const startDate = trip.startDate;\r\n        const endDate = trip.endDate;\r\n        const transportArray = trip.transport;\r\n        const files = [];\r\n        const filesUrl = trip.imagesUrl;\r\n        const value = trip.info;\r\n\r\n        this.props.editTrip(id);\r\n        this.props.formFiles(files,filesUrl);\r\n        this.props.formDestination(destination);\r\n        this.props.formStops(stops);\r\n        this.props.formStartDate(startDate);\r\n        this.props.formEndDate(endDate);\r\n        this.props.formTransport(transportArray);\r\n        this.props.formInfo(value)\r\n        this.props.history.push('/updatetrip')\r\n    }\r\n\r\n    render() {\r\n            const { auth, trips } = this.props\r\n            if (!auth.uid) return <Redirect to='/home'></Redirect>\r\n            const tripsFiltered = trips && trips.filter((trip) => {\r\n                return (trip.authorId === auth.uid ? trip : null)\r\n            })\r\n            let userTrips = tripsFiltered && tripsFiltered.map(trip => {\r\n                const shortInfo = trip.info.substring(0,250)\r\n                    return (\r\n                        <div className=\"trip\" key={trip.id}>\r\n                            <img className= \"trip__images\" src = {trip.imagesUrl[0]}></img>\r\n                            <div className = \"user__trip__info\">\r\n                                <div className=\"trip__info\">\r\n                                    <h1 className= \"destination\">{trip.destination}</h1>\r\n                                    <h2 className= \"duration\">{trip.startDate}</h2>\r\n                                    <h2 className= \"duration\">{trip.endDate}</h2>\r\n                                </div>\r\n                                <div className= \"trip__more\">\r\n                                    <div className= \"trip__decsription\">{shortInfo} [...]</div>\r\n                                    <TripButtons trip = {trip} handleDeleteButton = {this.handleDeleteButton} handleEditButton = {this.props.handleEditButton} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            )\r\n    return(\r\n        <div className=\"panel__container\">\r\n            <h1> Your trips </h1>\r\n            <div className=\"usertrips\">\r\n               { userTrips ? userTrips : <h2>No trips saved!</h2> }\r\n            </div>\r\n        </div>              \r\n    )}\r\n\r\n}\r\n\r\n    const mapStateToProps = (state) => {\r\n    console.log(state)\r\n    return {\r\n        auth: state.firebase.auth,\r\n        trips: state.firestore.ordered.trips\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        deleteTrip: (id) => dispatch(deleteTrip(id)),\r\n        editTrip: (id) => dispatch(editTrip(id)),\r\n        formFiles: (files, filesUrl) => dispatch(formFiles(files, filesUrl)),\r\n        formDestination: destination => dispatch(formDestination(destination)),\r\n        formStops: stops => dispatch(formStops(stops)),\r\n        formStartDate: (date) => dispatch(formStartDate(date)),\r\n        formEndDate: (date) => dispatch(formEndDate(date)),\r\n        formTransport: transport => dispatch(formTransport(transport)),\r\n        formInfo: info => dispatch(formInfo(info))\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(UserPanel)","import React from 'react';\r\n\r\nfunction ButtonUpdate(props) {\r\n    return (\r\n        <div className = \"input__field btn--action\">\r\n            <button className = \"btn\" onClick = {props.handlePrevButton}>Prev</button>\r\n            <button className = \"btn\" onClick = {props.handleUpdate}>Update</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ButtonUpdate","import React, { Component} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { sendFiles, createTripInfo } from '../../store/actions/tripActions'\r\nimport { Redirect, useLocation } from 'react-router-dom'\r\nimport UploadImages from './UploadImages';\r\nimport { format } from 'date-fns'\r\nimport FormStepOne from './FormStepOne';\r\nimport FormStepTwo from './FormStepTwo';\r\nimport Summary from './Summary';\r\nimport ButtonNext from  './ButtonNext';\r\nimport ButtonNextPrev from './ButtonNextPrev';\r\nimport ButtonUpdate from './ButtonUpdate';\r\nimport { editTrip, updateTrip } from '../../store/actions/tripActions'\r\n\r\nclass UpdateTrip extends Component {\r\n\r\n    state = {\r\n        step: 1,\r\n    }\r\n\r\n    handleNextButton = (e) => {\r\n        e.preventDefault()\r\n        this.setState({\r\n            step: this.state.step + 1\r\n        })\r\n    }\r\n    handlePrevButton = (e) => {\r\n        e.preventDefault()\r\n        this.setState({\r\n            step: this.state.step - 1\r\n        })\r\n    }\r\n\r\n    handleUpdate = (e) => {\r\n        e.preventDefault();\r\n        const newTrip = {\r\n            destination: this.props.destination,\r\n            stops: this.props.stops,\r\n            startDate: this.props.startDate,\r\n            endDate: this.props.endDate,\r\n            transport: this.props.transport,\r\n            info: this.props.info,\r\n        }\r\n        const id = this.props.id\r\n\r\n        const files = this.props.files;\r\n        if(files) {\r\n            this.props.updateTrip(newTrip,id)\r\n            this.props.history.push('/home')\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const id = \"\"; \r\n        const trip = {}  \r\n        this.props.editTrip(trip, id)\r\n    }\r\n\r\n    render() {\r\n\r\n        const { auth } = this.props;\r\n        if (!auth.uid) return <Redirect to='/signin'></Redirect>\r\n        \r\n        let formStep;\r\n        let buttons;\r\n        if(this.state.step == 1) {\r\n            formStep = <FormStepOne location = {this.props.location.pathname} destination = {this.props.destination} startDate = {this.props.startDate} endDate = {this.props.endDate} stops = {this.props.stops} transport = {this.props.transport} />\r\n            buttons = <ButtonNext handleNextButton = {this.handleNextButton} />\r\n        } else if(this.state.step == 2) {\r\n            formStep = <FormStepTwo info = {this.props.info} />\r\n            buttons = <ButtonNextPrev handleNextButton = {this.handleNextButton} handlePrevButton = {this.handlePrevButton} />\r\n        } else if(this.state.step == 3) {\r\n            formStep = <UploadImages filesUrl = {this.props.filesUrl} />\r\n            buttons = <ButtonNextPrev handleNextButton = {this.handleNextButton} handlePrevButton = {this.handlePrevButton} />\r\n        } else if(this.state.step == 4) {\r\n            formStep = <Summary />\r\n            buttons = <ButtonUpdate handlePrevButton = {this.handlePrevButton} handleUpdate = {this.handleUpdate}/>\r\n        }\r\n        \r\n\r\n        return(\r\n            \r\n        <div className = \"form__container form__container--createtrip\">\r\n            <form onSubmit = {this.handleSubmit}>\r\n                <h1>Save Your Trip!</h1>\r\n                { formStep }\r\n                { buttons }\r\n            </form>\r\n        </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        id: state.editTrip.id,\r\n        files: state.formCreateTrip.stepThree.files,\r\n        filesUrl: state.formCreateTrip.stepThree.filesUrl,\r\n        destination: state.formCreateTrip.stepOne.destination,\r\n        stops: state.formCreateTrip.stepOne.stops,\r\n        startDate: state.formCreateTrip.stepOne.startDate,\r\n        endDate: state.formCreateTrip.stepOne.endDate,\r\n        transport: state.formCreateTrip.stepOne.transport,\r\n        info: state.formCreateTrip.stepTwo.info\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        editTrip: (trip,id) => dispatch(editTrip(trip,id)),\r\n        updateTrip: (trip,id) => dispatch(updateTrip(trip,id))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(UpdateTrip)","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\nimport './App.css';\nimport Header from './components/layout/Header';\nimport HomePage from './components/dashboard/HomePage';\nimport Trip from './components/trips/Trip';\nimport SignIn from './components/auth/SignIn';\nimport SignUp from './components/auth/SignUp';\nimport CreateTrip from './components/trips/CreateTrip';\nimport UserPanel from './components/dashboard/UserPanel';\nimport UpdateTrip from './components/trips/UpdateTrip';\nimport { connect } from 'react-redux'\nimport { filterTrips } from './store/actions/searchActions'\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      tripId: null,\n      dataToEdit: null\n    }\n}\n\n  handleMainContent = (e) => {\n    e.preventDefault();\n    this.props.filterTrips(\"\")\n  }\n\n  handleEditButton = (trip) => {\n    const tripId = trip.id;\n    const trips = this.props.trips;\n\n    const tripToEdit = trips.filter((trip) => {\n      return trip.id === tripId;\n    })\n    const tripEdit = tripToEdit[0];\n\n    const dataToEdit = {\n      destination: tripEdit.destination,\n      stops: tripEdit.stops,\n      duration: tripEdit.duration,\n      info: tripEdit.info\n    }\n    console.log(dataToEdit)\n    this.setState({\n      dataToEdit\n    })\n    \n}\n  \n  render() {\n    return (\n      <BrowserRouter>\n        <div className = \"App\">\n          <Header handleMainContent = {this.handleMainContent}/>\n          <Switch>\n            <Route exact path = '/home' component = { HomePage } />\n            <Route path = '/trip/:id' component= { Trip }/>\n            <Route path = '/signin' component= { SignIn }/>\n            <Route path = '/signup' component= { SignUp }/>\n            <Route path = '/createtrip' component= { CreateTrip }/>\n            <Route path = '/updatetrip' component= { UpdateTrip }/>\n            <Route path = '/userpanel' render= { (props) => <UserPanel {...props} handleEditButton = {this.handleEditButton} /> } />\n            <Route component = { HomePage } />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n      trips: state.firestore.ordered.trips\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n      filterTrips: (value) => dispatch(filterTrips(value))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initState = {\r\n    authError: null\r\n}\r\n\r\nconst authReducer = (state = initState, action) => {\r\n    switch(action.type) {\r\n        case 'LOGIN_ERROR':\r\n            console.log('login error')\r\n            return {\r\n                ...state,\r\n                authError: 'Login failed'\r\n            }\r\n        case 'LOGIN_SUCCESS':\r\n            console.log('login success')\r\n            return {\r\n                ...state,\r\n                authError: null\r\n            }\r\n        case 'SIGNOUT_SUCCESS':\r\n            console.log('signout success')\r\n            return state;\r\n\r\n        case 'SIGNUP_SUCCESS':\r\n            console.log('signup success');\r\n            return {\r\n                ...state,\r\n                authError: null\r\n            }\r\n        case 'SIGNUP_ERROR':\r\n            console.log('signup error');\r\n            return {\r\n                ...state,\r\n                authError: action.error.message\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducer","const tripReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n      case 'ADD_TRIP':\r\n        console.log('created trip',action.trip);\r\n        return state;\r\n        \r\n      case 'ADD_TRIP_ERROR':\r\n        console.log('created trip error', action.error);\r\n        return state;\r\n      default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default tripReducer","function searchReducer (state = '', action) {\r\n    switch(action.type) {\r\n        case 'FILTER_TRIPS':\r\n            return action.value\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default searchReducer","const formStepOneReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n      case 'SAVE_DESTINATION':\r\n        return {\r\n            ...state,\r\n            destination: action.destination\r\n        };\r\n    case 'SAVE_STOPS':\r\n        return {\r\n            ...state,\r\n        stops: action.stops\r\n        };\r\n    case 'SAVE_START_DATE':\r\n        return {\r\n            ...state,\r\n            startDate: action.startDate\r\n        }\r\n    case 'SAVE_END_DATE':\r\n        return {\r\n            ...state,\r\n            endDate: action.endDate\r\n        }\r\n    case 'SAVE_TRANSPORT':\r\n        return {\r\n            ...state,\r\n            transport: action.transport\r\n        }\r\n    default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default formStepOneReducer\r\n\r\n","const formStepTwoReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n      case 'SAVE_INFO':\r\n        return {\r\n            ...state,\r\n            info: action.info\r\n        };\r\n    default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default formStepTwoReducer","const formStepThreeReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n      case 'SAVE_FILES':\r\n        return {\r\n            ...state,\r\n            files: action.files,\r\n            filesUrl: action.filesUrl\r\n        };\r\n    case 'DELETE_FILE':\r\n        return {\r\n            ...state,\r\n            files:action.files\r\n        }\r\n    default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default formStepThreeReducer\r\n","import { combineReducers } from 'redux'\r\nimport formStepOneReducer from '../formReducers/formStepOneReducer'\r\nimport formStepTwoReducer from './formStepTwoReducer'\r\nimport formStepThreeReducer from './formStepThreeReducer'\r\n\r\nconst formReducer = combineReducers ({\r\n    stepOne: formStepOneReducer,\r\n    stepTwo: formStepTwoReducer,\r\n    stepThree: formStepThreeReducer\r\n})\r\n\r\n\r\nexport default formReducer","const classInvisibleReducer = (state = \"\", action) => {\r\n    switch (action.type) {\r\n      case 'ADD_CLASS_INVISIBLE':\r\n        return {\r\n            ...state,\r\n            classInvisible: action.invisible\r\n        }\r\n      default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default classInvisibleReducer","\r\nconst editTripReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n      case 'EDIT_USER_TRIP':\r\n        return {\r\n            ...state,\r\n            id: action.id\r\n        }\r\n        \r\n      case 'EDIT_USER_TRIP_ERROR':\r\n        console.log('edit trip error', action.error);\r\n        return state;\r\n      default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default editTripReducer","import authReducer from './authReducer'\r\nimport tripReducer from './tripReducer'\r\nimport searchReducer from './searchReducer'\r\nimport formReducer from '../reducers/formReducers/formReducer'\r\nimport classInvisibleReducer from '../reducers/classInvisibleReducer'\r\nimport { combineReducers } from 'redux'\r\nimport { firestoreReducer } from 'redux-firestore'\r\nimport {firebaseReducer} from 'react-redux-firebase'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { createStore, applyMiddleware } from 'redux'\r\nimport EditTripReducer from './editTripReducer'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    trip: tripReducer,\r\n    firestore: firestoreReducer,\r\n    firebase: firebaseReducer,\r\n    filter: searchReducer,\r\n    // destination: formReducer,\r\n    // stops: formReducer,\r\n    // duration: formReducer,\r\n    // info: formReducer,\r\n    formCreateTrip: formReducer,\r\n    editTrip: EditTripReducer,\r\n    classInvisible: classInvisibleReducer\r\n})\r\n\r\nexport default rootReducer","import firebase from 'firebase/app'\r\nimport 'firebase/firestore' \r\nimport 'firebase/auth'\r\nimport 'firebase/storage'\r\n\r\n//Initialize firebase\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCaKRNm8X6WVElH8zC20kc5E1Lvr_J0SjE\",\r\n    authDomain: \"travel-page-55969.firebaseapp.com\",\r\n    databaseURL: \"https://travel-page-55969.firebaseio.com\",\r\n    projectId: \"travel-page-55969\",\r\n    storageBucket: \"travel-page-55969.appspot.com\",\r\n    messagingSenderId: \"530215818774\",\r\n    appId: \"1:530215818774:web:218a7d064ccf681e7dc737\",\r\n    measurementId: \"G-0SS2N7YW54\"\r\n  };\r\n\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  export default firebase;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport rootReducer from './store/reducers/rootReducer';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger'\nimport { getFirestore, createFirestoreInstance, reduxFirestore } from 'redux-firestore';\nimport { getFirebase, ReactReduxFirebaseProvider } from 'react-redux-firebase';\nimport 'firebase/storage'\nimport fbConfig from './config/fb.config';\nimport firebase from 'firebase/app'\nimport { useSelector } from 'react-redux'\nimport { isLoaded } from 'react-redux-firebase'\n\nconst rrfConfig = {\n    useFirestoreForProfile: true,\n    userProfile: 'users',\n    attachAuthIsReady: true\n}\n\nconst store = createStore(\n    rootReducer,\n    compose(\n    applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore })),\n    applyMiddleware(logger),\n    reduxFirestore(firebase, fbConfig),\n    )\n);\n\nconst rrfProps = {\n    firebase,\n    config: rrfConfig,\n    dispatch: store.dispatch,\n    createFirestoreInstance\n}\n\nfunction AuthIsLoaded({ children }) {\n    const auth = useSelector(state => state.firebase.auth)\n    if(!isLoaded(auth)){\n        return null\n    } else {\n        return children\n    }\n}\n\n\n    ReactDOM.render(<Provider store = {store}>\n        <ReactReduxFirebaseProvider {...rrfProps}>\n            <AuthIsLoaded>\n                <App/>\n            </AuthIsLoaded>\n        </ReactReduxFirebaseProvider>\n        </Provider>, document.getElementById('root'));\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}